{% extends "layout.html" %}

{% block content %}      

<h1>{{page_title}}</h1>


<div class="row-fluid">
    <div class="span6">

        <p class="muted">Пожалуйста, авторизуйтесь на сайте, чтобы получить доступ к вашим персональным данным.</p>

        {% from "forms.html" import form_field_boolean, form_field %}

        <form class="form-signin" id="sigin" method="post" action="{{request.path}}" >

          {{ form_field(form.email, class="input-xlarge", placeholder="Email, указанный при регистрации") }}

          {{ form_field(form.password, class="input-xlarge", placeholder="Пароль, указанный при регистрации") }}

          {{ form_field(form.remember)}}

        <button class="btn btn-primary" type="submit" data-loading-text="Войти..." id="submit">Войти</button>      
        
      </form>
<p class="text-left">
      <a class="" href="{{url_for('reset_password')}}">Напомнить пароль</a>
    </p>
    <p class="text-left">
      <a class="" href="{{url_for('signup')}}">Регистрация</a>
    </p>

  </div>

<div class="span6">
    <p class="text-center" >

      
      </p>
  </div> 

</div>


<script type="text/javascript">

  //validation
    $(function(){

      $("form").validate({
        rules: {
          email : {required : true, email: true }, 
          password : { required: true }
       },
       errorElement : "p", 
        errorPlacement: function(error, element) {
         error.addClass("label label-important");
         $("#" + element.attr("id") + "-div label").after(error);
       },
       highlight: function(element, errorClass) {
          $("#" + element.id + "-div").addClass("error");
       },
       unhighlight: function(element, errorClass) {
          $("#" + element.id + "-div").removeClass("error");
       },
       submitHandler: function(form) {
          $(":submit").button("loading")
          form.submit();
         }
      });
    });


</script>
{% endblock %} 