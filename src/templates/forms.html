{%- macro form_field_label(field) -%}
    <label for="{{ field.id }}" style="{{kwargs.get('lbl_style')}}" class="form-field-name {{kwargs.get('lbl_class')}}">{{ field.label.text }}
    {%- if field.flags.required -%}
        <!-- <abbr title="Обязательное поле">*</abbr> -->
          <!-- <sub class="required">*</sub> -->
          <span class="glyphicon glyphicon-asterisk small" style="color:red"></span>
    {%- endif %}</label>
{%- endmacro -%}
 
{%- macro form_field_description(field) -%}
    {% if field.description %}
        <p class="help-block">{{ field.description }}</p>
    {% endif %}
{%- endmacro -%}
 
{%- macro form_field_error(field) -%}
  <ul class="form-field-errors list-unstyled">
    {% if field.errors %}      
        {%- for error in field.errors -%}
            <li class="form-field-error">{{ error }}
            </li>
        {%- endfor -%}
    {% endif %}
  </ul>
{%- endmacro -%}
 
{%- macro form_field_boolean(field) -%}
    <label>
      {{ field(**kwargs) }} {{ field.label.text }}
      {{ form_field_description(field) }}
      {{ form_field_error(field) }}
    </label>
{%- endmacro -%}
 
{%- macro action_buttons(submit_title, cancel_href, cancel_title="Отменить", submit_class="success") -%}
<div class="actions">
  <input type="submit" class="btn btn-{{submit_class}}" value="{{submit_title}}" />
  &nbsp;
  <a class="btn" href="{{cancel_href}}" >{{cancel_title}}</a>
</div>
{%- endmacro -%}

 
{%- macro form_field(field) -%}
  <div id="{{field.id}}_field" class="{{'checkbox' if field.type == 'BooleanField' else 'form-group'}} form-field {{'has-error' if field.errors else ''}}">
    {% if field.type == 'HiddenField' %}
        {{ field() }}
    {% else %}
        {% if field.type == 'BooleanField' %}
            {{ form_field_boolean(field, **kwargs) }}
        {% else %}
            {{ form_field_label(field, **kwargs) }}
            {{ form_field_error(field) }}          

            {% if field.type == 'RadioField' %}
                {{ field(class='radio-group', **kwargs) }}
            {% else %}  
                  {% if 'size' in kwargs %}
                    <div class="row">
                      <div class="{{kwargs.get('size')}}">
                          {{ field(class='form-control', **kwargs) }}  
                      </div>
                    </div> 
                    {% else %}
                          {{ field(class='form-control', **kwargs) }}  
                  {%endif%}
            {% endif %}
            {{ form_field_description(field) }}


        {% endif %}
    {% endif %}
  </div>
{%- endmacro -%}
 
{%- macro form_fields(fields, class=None, legend=None) -%}
  <fieldset {% if class %}class="{{class}}"{% endif %}>
    {% if legend %}
      <legend>{{legend}}</legend>
    {% endif %}
    {% for field in fields %}
        {% if field.type == 'HiddenField' %}
            {{ field() }}
        {% else %}
            {{ form_field(field) }}
        {% endif %}
    {% endfor %}
  </fieldset>
{%- endmacro -%}